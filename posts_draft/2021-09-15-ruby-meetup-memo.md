---
title: iCARE Dev Meetup 25 を聴いたメモ
date: 2021-09-15
categories: 技術
tags: [diary]
---

Railsの話をしていたので覗いてみたら面白くて最後まで聞いてしまった。

https://icare.connpass.com/event/221922/

# BiTemporal Data Model

- とは：各レコードに有効期間があるデータモデル
  - データを積み上げていく　履歴が残るというデータ構造
  - 人事データとかに有効らしい
- ActiveRecord用の拡張gemもあるので、Railsでも実装可能だが、
- いろいろとつらい  
  - 一意制約、過去時間の追加など、イレギュラーなことをやろうとしたときに辛い
  - こういうイレギュラーなことって最初はあまり考慮できなさそうだから怖いな
  - 仕様からDB設計まで全て再設計する必要ある　大変だ～

# ActiveRecordから考える次の10年を見据えた技術選定

- Rails => TypeScriptに移行する理由
- そもそもActiveRecordが果たす役割はなんだったか
  - ドメインレイヤー以下をモデルクラスだけで構築できるようにして、レイヤーの数（コードの記述量）を減らし、高い開発生産性を実現すること
- Core Web Vitals：ユーザー体験の質を測定する指標　SEOなどに影響
- Railsではユーザー体験指標の向上に関する動きは見られない
  - が、これはRailsの出自を思い出すと自然な流れ
    - RailsはDHHがBasecamp（Webベースのプロジェクト管理ツール）のために作ったフレームワークで、それが偶然広く使われるようになっただけ
    - そして、Basecampは検索流入性を重要視しない
- Rails API + Next の構成は、**開発言語の違いから生じる認知負荷**が大きい
- フロントとバックをTypeScriptで統一するほうが現実的
- Prismaは型機能が優秀だが、ドメインレイヤーでトランザクションスクリプトを用いることになる
  - コントローラー層だけでデータ操作が必要になる感じ
- 講演者の会社では GraphQL, Nexus, TypeORM を採用したとのこと